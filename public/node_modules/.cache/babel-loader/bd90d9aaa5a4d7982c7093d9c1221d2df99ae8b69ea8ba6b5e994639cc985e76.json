{"ast":null,"code":"import{initializeApp}from'firebase/app';import{getAuth,signInWithRedirect,signInWithPopup,GoogleAuthProvider}from'firebase/auth';import{getFirestore,doc,getDoc,setDoc}from'firebase/firestore';const firebaseConfig={apiKey:\"AIzaSyCd5uAUsWnEfKu2AxlqxO3oVxBb9rSAxYo\",authDomain:\"justmestyles-db.firebaseapp.com\",projectId:\"justmestyles-db\",storageBucket:\"justmestyles-db.appspot.com\",messagingSenderId:\"759134213770\",appId:\"1:759134213770:web:b964e4917b23dc8ba9ff73\"};const firebaseapp=initializeApp(firebaseConfig);const googleProvider=new GoogleAuthProvider();googleProvider.setCustomParameters({prompt:\"select_account\"});export const auth=getAuth();export const signInWithGooglePopup=()=>signInWithPopup(auth,googleProvider);export const signInWithGoogleRedirect=()=>signInWithRedirect(auth,googleProvider);export const db=getFirestore();export const createUserDocumentFromAuth=async userAuth=>{const userDocRef=doc(db,'users',userAuth.uid);const userSnapshot=await getDoc(userDocRef);if(!userSnapshot.exists()){const{displayName,email}=userAuth;const createdAt=new Date();try{await setDoc(userDocRef,{displayName,email,createdAt});}catch(error){console.log('error creating the user',error.message);}}return userDocRef;};","map":{"version":3,"names":["initializeApp","getAuth","signInWithRedirect","signInWithPopup","GoogleAuthProvider","getFirestore","doc","getDoc","setDoc","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firebaseapp","googleProvider","setCustomParameters","prompt","auth","signInWithGooglePopup","signInWithGoogleRedirect","db","createUserDocumentFromAuth","userAuth","userDocRef","uid","userSnapshot","exists","displayName","email","createdAt","Date","error","console","log","message"],"sources":["/home/ebube/justmestylesapp/src/utils/firebase/firebase.utils.js"],"sourcesContent":["import { initializeApp } from 'firebase/app';\nimport { \n    getAuth,\n    signInWithRedirect,\n    signInWithPopup,\n    GoogleAuthProvider \n} from 'firebase/auth';\nimport {\n    getFirestore,\n    doc,\n    getDoc,\n    setDoc\n} from 'firebase/firestore'\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyCd5uAUsWnEfKu2AxlqxO3oVxBb9rSAxYo\",\n    authDomain: \"justmestyles-db.firebaseapp.com\",\n    projectId: \"justmestyles-db\",\n    storageBucket: \"justmestyles-db.appspot.com\",\n    messagingSenderId: \"759134213770\",\n    appId: \"1:759134213770:web:b964e4917b23dc8ba9ff73\"\n};\n\nconst firebaseapp = initializeApp(firebaseConfig);\n\nconst googleProvider = new GoogleAuthProvider()\n\ngoogleProvider.setCustomParameters({\n    prompt: \"select_account\"\n})\n\nexport const auth = getAuth()\nexport const signInWithGooglePopup = () => signInWithPopup(auth, googleProvider)\nexport const signInWithGoogleRedirect = () => signInWithRedirect(auth, googleProvider)\nexport const db = getFirestore()\n\nexport const createUserDocumentFromAuth = async (userAuth) =>{\n    const userDocRef = doc(db, 'users', userAuth.uid)\n    const userSnapshot = await getDoc(userDocRef)\n\n    if(!userSnapshot.exists()){\n        const { displayName, email } = userAuth\n        const createdAt = new Date()\n\n        try{\n            await setDoc(userDocRef, {\n                displayName,\n                email,\n                createdAt\n            })\n        } catch (error){\n            console.log('error creating the user', error.message)\n        }\n    }\n\n    return userDocRef\n}"],"mappings":"AAAA,OAASA,aAAa,KAAQ,cAAc,CAC5C,OACIC,OAAO,CACPC,kBAAkB,CAClBC,eAAe,CACfC,kBAAkB,KACf,eAAe,CACtB,OACIC,YAAY,CACZC,GAAG,CACHC,MAAM,CACNC,MAAM,KACH,oBAAoB,CAE3B,KAAM,CAAAC,cAAc,CAAG,CACnBC,MAAM,CAAE,yCAAyC,CACjDC,UAAU,CAAE,iCAAiC,CAC7CC,SAAS,CAAE,iBAAiB,CAC5BC,aAAa,CAAE,6BAA6B,CAC5CC,iBAAiB,CAAE,cAAc,CACjCC,KAAK,CAAE,2CACX,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGhB,aAAa,CAACS,cAAc,CAAC,CAEjD,KAAM,CAAAQ,cAAc,CAAG,GAAI,CAAAb,kBAAkB,CAAC,CAAC,CAE/Ca,cAAc,CAACC,mBAAmB,CAAC,CAC/BC,MAAM,CAAE,gBACZ,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAC,IAAI,CAAGnB,OAAO,CAAC,CAAC,CAC7B,MAAO,MAAM,CAAAoB,qBAAqB,CAAGA,CAAA,GAAMlB,eAAe,CAACiB,IAAI,CAAEH,cAAc,CAAC,CAChF,MAAO,MAAM,CAAAK,wBAAwB,CAAGA,CAAA,GAAMpB,kBAAkB,CAACkB,IAAI,CAAEH,cAAc,CAAC,CACtF,MAAO,MAAM,CAAAM,EAAE,CAAGlB,YAAY,CAAC,CAAC,CAEhC,MAAO,MAAM,CAAAmB,0BAA0B,CAAG,KAAO,CAAAC,QAAQ,EAAI,CACzD,KAAM,CAAAC,UAAU,CAAGpB,GAAG,CAACiB,EAAE,CAAE,OAAO,CAAEE,QAAQ,CAACE,GAAG,CAAC,CACjD,KAAM,CAAAC,YAAY,CAAG,KAAM,CAAArB,MAAM,CAACmB,UAAU,CAAC,CAE7C,GAAG,CAACE,YAAY,CAACC,MAAM,CAAC,CAAC,CAAC,CACtB,KAAM,CAAEC,WAAW,CAAEC,KAAM,CAAC,CAAGN,QAAQ,CACvC,KAAM,CAAAO,SAAS,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAE5B,GAAG,CACC,KAAM,CAAAzB,MAAM,CAACkB,UAAU,CAAE,CACrBI,WAAW,CACXC,KAAK,CACLC,SACJ,CAAC,CAAC,CACN,CAAE,MAAOE,KAAK,CAAC,CACXC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAEF,KAAK,CAACG,OAAO,CAAC,CACzD,CACJ,CAEA,MAAO,CAAAX,UAAU,CACrB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}